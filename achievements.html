---
title: TEST
---

<html>
<head>
  <title>Your achievements</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.11/handlebars.min.js"></script>
  <script src="https://unpkg.com/frappe-charts@0.0.7/dist/frappe-charts.min.iife.js"></script>
  <script>
"use strict";
/*global XMLHttpRequest, Handlebars, Chart, $ */
function callAjax(url, callback) {
  var xmlhttp;
  // compatible with IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp = new XMLHttpRequest();
  xmlhttp.onreadystatechange = function() {
    if(xmlhttp.readyState === 4 && xmlhttp.status === 200) {
      callback(JSON.parse(xmlhttp.responseText));
    }
  };
  xmlhttp.open("GET", url, true);
  xmlhttp.send();
}
  </script>
  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!--Import materialize.css-->
  <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"  media="screen,projection"/>

  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <style>
  /* Custom Stylesheet */
/**
 * Use this file to override Materialize files so you can update
 * the core Materialize files in the future
 *
 * Made By MaterializeCSS.com
 */

nav ul a,
nav .brand-logo {
  color: #444;
}

p {
  line-height: 2rem;
}

.button-collapse {
  color: #26a69a;
}

.parallax-container {
  min-height: 380px;
  line-height: 0;
  height: auto;
  color: rgba(255,255,255,.9);
}
  .parallax-container .section {
    width: 100%;
  }

@media only screen and (max-width : 992px) {
  .parallax-container .section {
    position: absolute;
    top: 40%;
  }
  #index-banner .section {
    top: 10%;
  }
}

@media only screen and (max-width : 600px) {
  #index-banner .section {
    top: 0;
  }
}

.icon-block {
  padding: 0 15px;
}
.icon-block .material-icons {
  font-size: inherit;
}

footer.page-footer {
  margin: 0;
}
</style>
</head>
<body>
  <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

  <div id="content"></div>

  <script id="template" type="text/x-handlebars-template">
{% include achievements.html %}
  </script>
  <script>

var graphCounter = 0;
var graphLoader = [];

Handlebars.registerHelper('graph', function(type, title, labelName, dataName, tooltip, data) {
  var graphData = {
    labels: data.map(d => d[labelName]),
    datasets: [{values: data.map(d => d[dataName])}]
  };
  var graphId = "graph-" + graphCounter;
  graphCounter += 1;
  graphLoader.push(function() {
    var chart = new Chart({
      parent: "#" + graphId,
      // title: title,
      data: graphData,
      type: type,
      height: 250,

      colors: ['#7cd6fd', '#743ee2'],

      format_tooltip_x: d => (d + '').toUpperCase(),
      format_tooltip_y: d => d + ' ' + tooltip
    });
    chart;
  });

  return new Handlebars.SafeString("<div id=" + graphId + "></div>");
});

var PLATFORMS = {
  'br': 'BR1',
  'eune': 'EUN1',
  'euw': 'EUW1',
  'kr': 'KR',
  'lan': 'LA1',
  'las': 'LA2',
  'na': 'NA1',
  'oce': 'OC1',
  'tr': 'TR1',
  'ru': 'RU',
  'jp': 'JP1',
  'pbe': 'PBE'
};

Handlebars.registerHelper('match_link', function(region, id, accountId) {
  return `https://matchhistory.${region.trim()}.leagueoflegends.com/en/#match-details/${PLATFORMS[region.trim().toLowerCase()]}/${id}/${accountId}?tab=overview`;
});

Handlebars.registerHelper('number', function(number) {
  return number.toLocaleString();
});

Handlebars.registerHelper('duration', function(duration) {
  var hour = Math.floor(duration / 3600);
  var minutes = Math.floor((duration - hour * 3600) / 60);
  var seconds = duration % 60;

  if(hour === 0) {
    return `${minutes}m${seconds}s`;
  }

  return `${hour}h${minutes}m${seconds}s`;
});

Handlebars.registerHelper('table', function(columns, data) {
  columns = columns.split(",");
  var table = "<table><thead><tr>";
  columns.forEach(c => table += `<th>${c.replace('_', ' ')}</th>`);
  table += "</tr></thead><toby>";
  data.forEach(function(d) {
    table += "<tr>";
    columns.forEach(c => table += `<td>${d[c]}</td>`);
    table += "</tr>";
  });
  table += "</table>";
  return new Handlebars.SafeString(table);
});


Handlebars.registerHelper('parallax_start', function() {
  return new Handlebars.SafeString(`<div class="parallax-container valign-wrapper"><div class="section no-pad-bot"><div class="container"><div class="row center"><h5 class="header col s12 light">`);
});


Handlebars.registerHelper('parallax_end', function(background) {
  return new Handlebars.SafeString(`</h5></div></div></div><div class="parallax"><img src="${background}" alt=""></div></div>`);
});


Handlebars.registerHelper('section_start', function(title) {
  return new Handlebars.SafeString(`<div class="container"><div class="section"><div class="row"><div class="col s12 center"><h3><i class="mdi-content-send brown-text"></i></h3><h4>${title}</h4><div class="left-align light">`);
});

Handlebars.registerHelper('section_end', function(background) {
  return new Handlebars.SafeString(`</div></div></div></div></div>`);
});

var source   = document.getElementById("template").innerHTML;
var template = Handlebars.compile(source);
callAjax('http://localhost:3000/achievements?summoner=neamar&region=euw&role=top&level=3', function(res) {
  var html = template(res);
  document.getElementById('content').innerHTML = html;

  setTimeout(function() {
    graphLoader.forEach(f => f());
    $('.button-collapse').sideNav();
    $('.parallax').parallax();
  }, 10);
});
  </script>
</body>
</html>
